





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-pWLt6abkYhNeAHaDrPVG0yXCtIGRuCkwSUqQpsyN6smAIpIt+Iuq2IZKmoH9l3Cy/9ZnjvVrFZnvFFjGiqE3EA==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-a3b8a10d4a9e37a78f033ef4a4f525f5.css" />
  <link crossorigin="anonymous" media="all" integrity="sha512-wPoAbqECYZGJtPn1m6RAbZM+oSohVIyH5w5fJUVM2fER6b4NJugPO/s7Z0xVFeq84qLImOOST77t5mWyZeffuQ==" rel="stylesheet" href="https://github.githubassets.com/assets/github-e32d30fbcf7d81019b9ea82d0d3a0cb4.css" />
  
  
  <link crossorigin="anonymous" media="all" integrity="sha512-L+Xfjk72/sIPS5T8Z8Wy/+/78ngrN7jAjVpE5Zoo2KfZYqr9s8p6selV7sLydYrh0Y3Pu02CuEa7uuq70RjSxg==" rel="stylesheet" href="https://github.githubassets.com/assets/site-278e4176d194ae782983c71f1f767503.css" />
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>awslabs_2018_2/Optimization_lab.md at master · parimalp/awslabs_2018_2 · GitHub</title>
    <meta name="description" content="Contribute to parimalp/awslabs_2018_2 development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars1.githubusercontent.com/u/9258967?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="parimalp/awslabs_2018_2" /><meta property="og:url" content="https://github.com/parimalp/awslabs_2018_2" /><meta property="og:description" content="Contribute to parimalp/awslabs_2018_2 development by creating an account on GitHub." />

  <link rel="assets" href="https://github.githubassets.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="46F5:5EC7:2BDFD5:3E50E3:5C3EFFD4" data-pjax-transient>


  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

      <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-request_id" content="46F5:5EC7:2BDFD5:3E50E3:5C3EFFD4" /><meta name="octolytics-dimension-region_edge" content="ap-southeast-1" /><meta name="octolytics-dimension-region_render" content="iad" />
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />



    <meta name="google-analytics" content="UA-3769691-2">


<meta class="js-ga-set" name="dimension1" content="Logged Out">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="ODJlODFhODA2NjlkNWY5ZmI0OWE4Yzk0Zjc1MGQ0NTFmMmU4N2FhMGVhMWE4Zjg0NzU5ODJjNTM3YzQyMThiMnx7InJlbW90ZV9hZGRyZXNzIjoiMTQ5LjE5OS4xMDAuMTI4IiwicmVxdWVzdF9pZCI6IjQ2RjU6NUVDNzoyQkRGRDU6M0U1MEUzOjVDM0VGRkQ0IiwidGltZXN0YW1wIjoxNTQ3NjMyNTk3LCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="DASHBOARD_V2_LAYOUT_OPT_IN,EXPLORE_DISCOVER_REPOSITORIES,UNIVERSE_BANNER,MARKETPLACE_PLAN_RESTRICTION_EDITOR">

  <meta name="html-safe-nonce" content="cc7cdfbaa779a76a6b4750fccadbd7a1a72b8fdf">

  <meta http-equiv="x-pjax-version" content="5567d3fa8c22106814d33ee290c065c2">
  

      <link href="https://github.com/parimalp/awslabs_2018_2/commits/master.atom" rel="alternate" title="Recent Commits to awslabs_2018_2:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/parimalp/awslabs_2018_2 git https://github.com/parimalp/awslabs_2018_2.git">

  <meta name="octolytics-dimension-user_id" content="9258967" /><meta name="octolytics-dimension-user_login" content="parimalp" /><meta name="octolytics-dimension-repository_id" content="152828687" /><meta name="octolytics-dimension-repository_nwo" content="parimalp/awslabs_2018_2" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="152828687" /><meta name="octolytics-dimension-repository_network_root_nwo" content="parimalp/awslabs_2018_2" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/parimalp/awslabs_2018_2/blob/master/Optimization_lab.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">

<meta name="theme-color" content="#1e2327">



  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-out env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="px-2 py-4 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    


        
<header class="Header header-logged-out  position-relative f4 py-3" role="banner">
  <div class="container-lg d-flex px-3">
    <div class="d-flex flex-justify-between flex-items-center">
        <a class="mr-4" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
          <svg height="32" class="octicon octicon-mark-github text-white" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
        </a>
    </div>

    <div class="HeaderMenu HeaderMenu--logged-out d-flex flex-justify-between flex-items-center flex-auto">
      <div class="d-none">
        <button class="btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
          <svg height="24" class="octicon octicon-x text-gray" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
        </button>
      </div>

        <nav class="mt-0" aria-label="Global">
          <ul class="d-flex list-style-none">
              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Why GitHub?
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>
                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 mt-0  p-4 left-n4 position-absolute">
                    <a href="/features" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Features">Features <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a>
                    <ul class="list-style-none f5 pb-3">
                      <li class="edge-item-fix"><a href="/features/code-review/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code review">Code review</a></li>
                      <li class="edge-item-fix"><a href="/features/project-management/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Project management">Project management</a></li>
                      <li class="edge-item-fix"><a href="/features/integrations" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Integrations">Integrations</a></li>
                      <li class="edge-item-fix"><a href="/features/actions" class="py-2 lh-condensed-ultra d-block link-gray" data-ga-click="(Logged out) Header, go to Actions">Actions</a>
                      <li class="edge-item-fix"><a href="/features#team-management" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Team management">Team management</a></li>
                      <li class="edge-item-fix"><a href="/features#social-coding" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Social coding">Social coding</a></li>
                      <li class="edge-item-fix"><a href="/features#documentation" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Documentation">Documentation</a></li>
                      <li class="edge-item-fix"><a href="/features#code-hosting" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code hosting">Code hosting</a></li>
                    </ul>

                    <ul class="list-style-none mb-0 border-lg-top pt-lg-3">
                      <li class="edge-item-fix"><a href="/case-studies" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Case studies">Case Studies <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a></li>
                      <li class="edge-item-fix"><a href="/security" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Security">Security <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
              <li class=" mr-3 mr-lg-3">
                <a href="/enterprise" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, click, go to Enterprise">Enterprise</a>
              </li>

              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Explore
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-0 mt-0  p-4 left-n4 position-absolute">
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="/explore" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Features">Explore GitHub <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2  border-top pt-3">Learn &amp; contribute</h4>
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="/topics" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Topics">Topics</a></li>
                      <li class="edge-item-fix"><a href="/collections" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Collections">Collections</a></li>
                      <li class="edge-item-fix"><a href="/trending" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Trending">Trending</a></li>
                      <li class="edge-item-fix"><a href="https://lab.github.com/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Learning lab">Learning Lab</a></li>
                      <li class="edge-item-fix"><a href="https://opensource.guide" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Open source guides">Open source guides</a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2  border-top pt-3">Connect with others</h4>
                    <ul class="list-style-none mb-0">
                      <li class="edge-item-fix"><a href="/events" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Events">Events</a></li>
                      <li class="edge-item-fix"><a href="https://github.community" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Community forum">Community forum</a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com" class="py-2 pb-0 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to GitHub Education">GitHub Education</a></li>
                    </ul>
                  </div>
                </details>
              </li>

              <li class=" mr-3 mr-lg-3">
                <a href="/marketplace" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, go to Marketplace">Marketplace</a>
              </li>

              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Pricing
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                       <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-4 mt-0  p-4 left-n4 position-absolute">
                    <a href="/pricing" class="pb-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Pricing">Plans <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a>

                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="/pricing#feature-comparison" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Compare features">Compare plans</a></li>
                      <li class="edge-item-fix"><a href="https://enterprise.github.com/contact" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Compare features">Contact Sales</a></li>
                    </ul>

                    <ul class="list-style-none mb-0  border-top pt-3">
                      <li class="edge-item-fix"><a href="/nonprofit" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Nonprofits">Nonprofit <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com" class="py-2 pb-0 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover"  data-ga-click="(Logged out) Header, go to Education">Education <span class="Bump-link-symbol float-right text-normal text-gray-light">&rarr;</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
          </ul>
        </nav>

      <div class="d-flex flex-items-center px-0 text-center text-left">
          <div class="d-lg-flex mr-3">
            <div class="header-search scoped-search site-scoped-search js-site-search position-relative js-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" data-scope-type="Repository" data-scope-id="152828687" data-scoped-search-url="/parimalp/awslabs_2018_2/search" data-unscoped-search-url="/search" action="/parimalp/awslabs_2018_2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
      <label class="form-control header-search-wrapper header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search"
          data-unscoped-placeholder="Search GitHub"
          data-scoped-placeholder="Search"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=328iBzsPGKwdVn5LKRMTWyVS+hCUVvx8JgwBpBie9UabyLOMKL1LCl2mOXD5qQXO8Z7zGGtc24fdtmy2x/mc3w=="
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


</ul>

            </div>
      </label>
</form>  </div>
</div>

          </div>

        <a class="HeaderMenu-link no-underline mr-3" href="/login?return_to=%2Fparimalp%2Fawslabs_2018_2%2Fblob%2Fmaster%2FOptimization_lab.md" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign&nbsp;in</a>
          <a class="HeaderMenu-link d-inline-block no-underline border border-gray-dark rounded-1 px-2 py-1" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign&nbsp;up</a>
      </div>
    </div>
  </div>
</header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">

</div>



  <div role="main" class="application-main " data-commit-hovercards-enabled>
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      


  





  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
      <a href="/login?return_to=%2Fparimalp%2Fawslabs_2018_2"
    class="btn btn-sm btn-with-count tooltipped tooltipped-s"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
    Watch
  </a>
  <a class="social-count" href="/parimalp/awslabs_2018_2/watchers"
     aria-label="1 user is watching this repository">
    1
  </a>

  </li>

  <li>
        <a href="/login?return_to=%2Fparimalp%2Fawslabs_2018_2"
      class="btn btn-sm btn-with-count tooltipped tooltipped-s"
      aria-label="You must be signed in to star a repository" rel="nofollow">
      <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
      Star
    </a>

    <a class="social-count js-social-count" href="/parimalp/awslabs_2018_2/stargazers"
      aria-label="0 users starred this repository">
      0
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fparimalp%2Fawslabs_2018_2"
        class="btn btn-sm btn-with-count tooltipped tooltipped-s"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
        Fork
      </a>

    <a href="/parimalp/awslabs_2018_2/network/members" class="social-count"
       aria-label="2 users forked this repository">
      2
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=9258967" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/parimalp">parimalp</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="/parimalp/awslabs_2018_2">awslabs_2018_2</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
    aria-label="Repository"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /parimalp/awslabs_2018_2" href="/parimalp/awslabs_2018_2">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /parimalp/awslabs_2018_2/issues" href="/parimalp/awslabs_2018_2/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /parimalp/awslabs_2018_2/pulls" href="/parimalp/awslabs_2018_2/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>


    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /parimalp/awslabs_2018_2/projects" href="/parimalp/awslabs_2018_2/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>


    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse alerts security /parimalp/awslabs_2018_2/pulse" href="/parimalp/awslabs_2018_2/pulse">
      <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
      Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
    



  
    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/parimalp/awslabs_2018_2/blob/8262203310c99d3126e67f11c2f2ec0d4661f422/Optimization_lab.md">Permalink</a>

    <!-- blob contrib key: blob_contributors:v21:41242ac04e28f646118bc60b124e17f1 -->

        <div class="signup-prompt-bg rounded-1">
      <div class="signup-prompt p-4 text-center mb-4 rounded-1">
        <div class="position-relative">
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/site/dismiss_signup_prompt" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="291Ia/Vm0dkIpAwpUrS0RHUUZxrlG38PtspkpCYLknbB16AUFfUwiWcPl5CjNnzc89xXSVhridcQAtLatBhERQ==" />
            <button type="submit" class="position-absolute top-0 right-0 btn-link link-gray" data-ga-click="(Logged out) Sign up prompt, clicked Dismiss, text:dismiss">
              Dismiss
            </button>
</form>          <h3 class="pt-2">Join GitHub today</h3>
          <p class="col-6 mx-auto">GitHub is home to over 28 million developers working together to host and review code, manage projects, and build software together.</p>
          <a class="btn btn-primary" href="/join?source=prompt-blob-show" data-ga-click="(Logged out) Sign up prompt, clicked Sign up, text:sign-up">Sign up</a>
        </div>
      </div>
    </div>


    <div class="file-navigation">
      
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left js-load-contents"
  data-contents-url="/parimalp/awslabs_2018_2/ref-list/master/Optimization_lab.md?source_action=show&amp;source_controller=blob">
  <button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
    <i>Branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>
    <div class="select-menu-modal">
      <div class="js-select-menu-deferred-content"></div>
      <div class="select-menu-loading-overlay anim-pulse">
        <svg height="32" class="octicon octicon-octoface" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"/></svg>
      </div>
    </div>
  </div>
</div>

      <div class="BtnGroup float-right">
        <a href="/parimalp/awslabs_2018_2/find/master"
              class="js-pjax-capture-input btn btn-sm BtnGroup-item"
              data-pjax
              data-hotkey="t">
          Find file
        </a>
        <clipboard-copy for="blob-path" class="btn btn-sm BtnGroup-item">
          Copy path
        </clipboard-copy>
      </div>
      <div id="blob-path" class="breadcrumb">
        <span class="repo-root js-repo-root"><span class="js-path-segment"><a data-pjax="true" href="/parimalp/awslabs_2018_2"><span>awslabs_2018_2</span></a></span></span><span class="separator">/</span><strong class="final-path">Optimization_lab.md</strong>
      </div>
    </div>


    
  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="/parimalp/awslabs_2018_2/commit/8b462128f9049b852314a69e3c0cb20e62c1c8be" data-pjax>
          8b46212
        </a>
        <relative-time datetime="2018-11-09T10:38:34Z">Nov 9, 2018</relative-time>
      </span>
      <div>
        <a rel="author" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=9258967" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/parimalp"><img class="avatar" src="https://avatars0.githubusercontent.com/u/9258967?s=40&amp;v=4" width="20" height="20" alt="@parimalp" /></a>
        <a class="user-mention" rel="author" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=9258967" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/parimalp">parimalp</a>
          <a data-pjax="true" title="Update Optimization_lab.md" class="message" href="/parimalp/awslabs_2018_2/commit/8b462128f9049b852314a69e3c0cb20e62c1c8be">Update Optimization_lab.md</a>
      </div>

    <div class="commit-tease-contributors">
      
<details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark float-left mr-2" id="blob_contributors_box">
  <summary
      class="btn-link"
      aria-haspopup="dialog"
      
      
      >
    
    <span><strong>1</strong> contributor</span>
  </summary>
  <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast " aria-label="Users who have contributed to this file">
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
      </button>
      <h3 class="Box-title">Users who have contributed to this file</h3>
    </div>
    
        <ul class="list-style-none overflow-auto">
            <li class="Box-row">
              <a class="link-gray-dark no-underline" href="/parimalp">
                <img class="avatar mr-2" alt="" src="https://avatars0.githubusercontent.com/u/9258967?s=40&amp;v=4" width="20" height="20" />
                parimalp
</a>            </li>
        </ul>

  </details-dialog>
</details>
      
    </div>
  </div>




    <div class="file ">
      
<div class="file-header">

  <div class="file-actions">


    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/parimalp/awslabs_2018_2/raw/master/Optimization_lab.md">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/parimalp/awslabs_2018_2/blame/master/Optimization_lab.md">Blame</a>
      <a rel="nofollow" class="btn btn-sm BtnGroup-item" href="/parimalp/awslabs_2018_2/commits/master/Optimization_lab.md">History</a>
    </div>


        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg class="octicon octicon-pencil" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
        </button>
        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg class="octicon octicon-trashcan" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
        </button>
  </div>

  <div class="file-info">
      411 lines (379 sloc)
      <span class="file-info-divider"></span>
    27.6 KB
  </div>
</div>

      
  <div id="readme" class="readme blob instapaper_body js-code-block-container">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-optimization-lab" class="anchor" aria-hidden="true" href="#optimization-lab"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optimization Lab</h1>
<h2><a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>This lab guides you through the steps involved in creating a project and adding a kernel function. After creating a project you will run software and hardware emulations to verify the functionality, analyze various generated reports and then apply optimization techniques both on host and kernel side to improve throughput and data transfer rate.</p>
<h2><a id="user-content-objectives" class="anchor" aria-hidden="true" href="#objectives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Objectives</h2>
<p>After completing this lab, you will be able to:</p>
<ul>
<li>Add a function as a kernel</li>
<li>Analyze and understand various generated reports</li>
<li>Optimize kernel code to improve throughput</li>
<li>Optimize host code to improve data transfer rate</li>
<li>Verify functionality in hardware on F1</li>
</ul>
<h2><a id="user-content-steps" class="anchor" aria-hidden="true" href="#steps"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Steps</h2>
<h3><a id="user-content-create-an-sdaccel-project" class="anchor" aria-hidden="true" href="#create-an-sdaccel-project"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create an SDAccel Project</h3>
<ol>
<li>Execute the following commands, if it is not already done, in a terminal window to source the required Xilinx tools:
<pre><code>   cd ~/aws-fpga		  
   source sdaccel_setup.sh		  
   source $XILINX_SDX/settings64.sh	  
</code></pre>
</li>
<li>Execute the following commands in a terminal window to create a working directory:
<pre><code>   mkdir optimization_flow	  
   cd optimization_flow
</code></pre>
</li>
<li>Launch SDAccel by executing <strong>sdx</strong> in the terminal window<br>
An Eclipse launcher window will appear asking to select a directory as workspace</li>
<li>Click on the <strong>Browse…</strong> button, browse to <strong>/home/centos/src/project_data/aws-fpga/optimization_lab</strong>, click <strong>OK</strong> twice
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/workspace.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/workspace.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Selecting a workspace</i>
 </p>
 The Xilinx SDx IDE window will be displayed
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/SDX_IDE.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/SDX_IDE.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>The SDx IDE window</i>
 </p>
</li>
<li>Click on the <strong>Add Custom Platform</strong> link on the <em>Welcome</em> page</li>
<li>Click on the <strong>Add Custom Platform</strong> button, browse to <strong>/home/centos/aws-fpga/SDAccel/aws_platfom/xilinx_aws-vu9p-f1-04261818_dynamic_5_0</strong>, and click <strong>OK</strong>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/FigPlatform.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/FigPlatform.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Hardware platform selected</i>
 </p>
</li>
<li>Click <strong>Apply</strong> and then click <strong>OK</strong></li>
<li>Click on the <strong>Create SDx Project</strong> link on the <em>Welcome</em> page</li>
<li>Click <strong>Next</strong></li>
<li>In the <em>New Project</em>'s page enter <strong>optimization_lab_example</strong> in the <em>Project name:</em> field and click <strong>Next</strong><br>
Note the aws-vu9p-f1-04261818 board is displayed as the hardware platform</li>
<li>Click <strong>Next</strong></li>
<li>Click <strong>Next</strong> with Linux on x86 as the System Configuration and OpenCL as the Runtime options</li>
<li>Select <strong>Empty Application</strong> from the <em>Available Templates</em> pane and click <strong>Finish</strong>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/FigEmptyProjectTemplate.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/FigEmptyProjectTemplate.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Selecting an application template</i>
 </p>
</li>
</ol>
<p>The project IDE will be displayed with six main windows: Project Explorer, Project Settings, Reports, Outline, multi-tab console, and Emulation Console.
</p><p align="center">
<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-5.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-5.png" style="max-width:100%;"></a>
</p>
<p align="center">
<i>The Project IDE</i>
</p><p></p>
<h3><a id="user-content-import-the-provided-two-source-files-from-the-homecentossourcesoptimization_lab-folder-to-the-project" class="anchor" aria-hidden="true" href="#import-the-provided-two-source-files-from-the-homecentossourcesoptimization_lab-folder-to-the-project"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Import the provided two source files from the /home/centos/sources/optimization_lab folder to the project</h3>
<ol>
<li>Right-click on the <strong>src</strong> folder in the <em>Project Explorer</em> and select <strong>Import…</strong></li>
<li>Select <strong>General &gt; File System</strong>, click <strong>Next</strong>, browse to the source directory at <strong>/home/centos/sources/optimization_lab</strong> and click <strong>OK</strong></li>
<li>Select the <strong>idct.cpp</strong> and <strong>krnl_idct.cpp</strong> files</li>
<li>Click <strong>Finish</strong></li>
<li>Expand the <strong>src</strong> folder in the <em>Project Explorer</em> and note the two added files</li>
</ol>
<h3><a id="user-content-select-the-functions-that-needs-to-be-accelerated" class="anchor" aria-hidden="true" href="#select-the-functions-that-needs-to-be-accelerated"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Select the function(s) that needs to be accelerated</h3>
<ol>
<li>Click on the <em>Add Hardware Function</em> button icon (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-hw_button.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-hw_button.png" alt="alt tag" style="max-width:100%;"></a>) in the <strong>Hardware Functions</strong> tab to see possible functions which may be accelerated</li>
<li>Select <em>kernl_idct</em> function and click <strong>OK</strong>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-6.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-6.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Selecting a kernel function</i>
 </p>
</li>
<li>Notice the <strong>binary_container_1</strong> folder is created under which <em>kml_idct</em> function is added</li>
</ol>
<h3><a id="user-content-analyze-the-source-files" class="anchor" aria-hidden="true" href="#analyze-the-source-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Analyze the source files</h3>
<ol>
<li>
<p>Open the <strong>krnl_idct.cpp</strong> file</p>
</li>
<li>
<p>Locate the <strong>Outline</strong> viewer corresponds to a function in the selected source file. This view provides a convenient way of looking up and navigating the code hierarchy. Each green dot in the <strong>Outline</strong> viewer corresponds to a function in the selected source file</p>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-7.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-7.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Outline view</i>
 </p>
</li>
<li>
<p>In the <em>Outline</em> viewer, click <strong>idct</strong> to look up the function<br>
The idct function is the core algorithm implemented in the custom hardware accelerator. It is a computationally intensive function that can be highly paralleled on the FPGA, providing significant acceleration over a CPU-based implementation.</p>
</li>
<li>
<p>Review other functions of the accelerator</p>
<ul>
<li><strong>krnl_idct</strong> : This is the top-level for the custom hardware accelerator. Interface properties for the accelerator are specified in this function</li>
<li><strong>krnl_idct_dataflow</strong> : This function is called by the <strong>krnl_idct</strong> function and encapsulates the main functions of the accelerator</li>
<li><strong>read_blocks</strong> : This function reads from global memory values sent by the host application and streams them to the <strong>execute</strong> function</li>
<li><strong>execute</strong> : This function receives the streaming data and, for each 8x8 block received, calls the <strong>idct</strong> function to perform the actual computation and streams the results back out</li>
<li><strong>write_blocks</strong> : This function receives the streaming results from the <strong>execute</strong> function and writes them back to global memory for the host application</li>
</ul>
</li>
<li>
<p>Open the <strong>idct.cpp</strong> file.  Again use the <em>Outline</em> viewer to quickly look up and inspect the important functions of the host application:</p>
<ul>
<li><strong>main</strong> : Initializes the test vectors, sets-up OpenCL resources, runs the reference model, runs the hardware accelerator, releases the OpenCL resources, and compares the results of the reference IDCT model with the accelerator implementation</li>
<li><strong>runFPGA</strong> : This function takes in a vector of inputs and, for each 8x8 block, calls the hardware accelerated IDCT using the <strong>write</strong> , <strong>run</strong> , <strong>read</strong> , and <strong>finish</strong> helper functions. These function use OpenCL API calls to communicate with the FPGA</li>
<li><strong>runCPU</strong> : This function takes in a vector of inputs and, for each 8x8 block, calls <strong>idctSoft</strong> , a reference implementation of the IDCT</li>
<li><strong>idctSoft</strong> : This function is the reference software implementation of the IDCT algorithm, used in this example to check the results coming back from the FPGA</li>
<li><strong>oclDct</strong> : This class is used to encapsulate the OpenCL runtime calls to interact with the kernel in the FPGA</li>
<li><strong>aligned_allocator</strong> , <strong>smalloc</strong> , <strong>load_file_to_memory</strong> , <strong>getBinaryName</strong> : These are small helper functions used during test vector generation and OpenCL setup</li>
</ul>
</li>
<li>
<p>Go to line near line no. 580 of the <strong>idct.cpp</strong> file by pressing Ctrl+l (small L) and entering 580<br>
This section of code is where the OpenCL environment is setup in the host application. It is typical of most SDAccel application and will look very familiar to developers with prior OpenCL experience. This body of code can often be reused as-is from project to project.<br>
To setup the OpenCL environment, the following API calls are made:</p>
<ul>
<li><strong>clGetPlatformIDs</strong> : This function queries the system to identify the any available OpenCL platforms. It is called twice as it first extracts the number of platforms before extracting the actual supported platforms</li>
<li><strong>clGetPlatformInfo</strong> : Get specific information about the OpenCL platform, such as vendor name and platform name</li>
<li><strong>clGetDeviceIDs</strong> : Obtain list of devices available on a platform</li>
<li><strong>clCreateContext</strong> : Creates an OpenCL context, which manages the runtime objects</li>
<li><strong>clGetDeviceInfo</strong> : Get information about an OpenCL device like the device name</li>
<li><strong>clCreateProgramWithBinary</strong> : Creates a program object for a context, and loads specified binary data into the program object. The actual program is obtained before this call through the load_file_to memory function</li>
<li><strong>clCreateKernel</strong> : Creates a kernel object</li>
<li><strong>clCreateCommandQueue</strong> : Create a command-queue on a specific device<br>
Note: all objects accessed through a <strong>clCreate..</strong>. function call should be released before terminating the program by calling <strong>clRelease...</strong>. This avoids memory leakage and clears the locks on the device</li>
</ul>
</li>
</ol>
<h3><a id="user-content-set-the-xocc-kernel-linker-flags" class="anchor" aria-hidden="true" href="#set-the-xocc-kernel-linker-flags"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set the XOCC Kernel Linker flags</h3>
<p><strong>In the idct.cpp file, locate lines 308-310 and note that there are two DDR banks (BANK0 and BANK1) are being used. By default, the compiler will connect all m_axi ports to DDR BANK0. In order to instruct the compiler that BANK1 is available, the XOCC Kernel Linker flag has to be added. Add --sp krnl_idct_1.m_axi_gmem:bank0 --sp krnl_idct_1.m_axi_gmem1:bank0 --sp krnl_idct_1.m_axi_gmem2:bank1 in the linker flag field</strong></p>
<ol>
<li>In the Project Explorer pane, right-click the project <strong>optimization_lab_example</strong> and select the <strong>C/C++ Settings</strong></li>
<li>Select <strong>C/C++ Build</strong> &gt; <strong>Settings</strong> in the left pane</li>
<li>Select the <strong>Miscellaneous</strong> under <strong>SDx XOCC Kernel Linker</strong></li>
<li>Using the gedit editor, open the file <strong>xocc_linker_flag.txt</strong> from the <strong>/home/centos/sources/optimization_lab/</strong> directory, copy --sp krnl_idct_1.m_axi_gmem:bank0 --sp krnl_idct_1.m_axi_gmem1:bank0 --sp krnl_idct_1.m_axi_gmem2:bank1 and paste it in the <strong>Other flags</strong> field. Make sure that there no control characters at the end of the string
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-8.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-8.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Adding the XOCC Kernel Linker flag</i>
 </p>
</li>
<li>Click <strong>OK</strong></li>
</ol>
<h3><a id="user-content-build-and-run-software-emulation-emulation-sw" class="anchor" aria-hidden="true" href="#build-and-run-software-emulation-emulation-sw"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build and run software emulation (Emulation-SW)</h3>
<ol>
<li>Make sure the <strong>project.sdx</strong> under <em>Optimization_lab_example</em> in the <strong>Project Explorer</strong> tab is selected</li>
<li>Either select <strong>Project &gt; Build Configurations &gt; Set Active &gt; Emulation-SW</strong> or click on the drop-down button of <em>Active build configuration</em> and select <strong>Emulation-SW</strong></li>
<li>Either select <strong>Project &gt; Build Project</strong> or click on the (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-build.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-build.png" alt="alt tag" style="max-width:100%;"></a>) button<br>
This will build the project including Optimization_lab_example.exe file under the Emulation-SW directory</li>
<li>In the Project Explorer pane, right-click the project <strong>optimization_lab_example</strong> and select <strong>Run As</strong> &gt; <strong>Run Configurations…</strong></li>
<li>Select the <strong>Arguments</strong> tab</li>
<li>Click on the <strong>Automatically add binary container(s) to arguments</strong> check box<br>
This will add <strong>../binary_container_1.xclbin</strong></li>
<li>Click on the <strong>Environment</strong> tab and change the <em>LD_LIBRARY_PATH</em> to <strong>/opt/xilinx/xrt/lib</strong> and click <strong>OK</strong></li>
<li>Click <strong>Apply</strong> and then click <strong>Run</strong><br>
The application will be run and the output will be displayed in the Console tab
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-10.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-10.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>SW Emulation run output</i>
 </p>
</li>
</ol>
<h3><a id="user-content-review-the-software-emulation-reports" class="anchor" aria-hidden="true" href="#review-the-software-emulation-reports"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Review the software emulation reports</h3>
<ol>
<li>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example</strong> &gt; <strong>Emulation-SW</strong> &gt; <strong>optimization_lab_example-Default</strong><br>
There will be two files generated by the tool after running the software emulation: Profile Summary and Application Timeline
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-11.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-11.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Generated reports</i>
 </p>
</li>
<li>Double-click the <strong>Profile Summary</strong> report and review it<br>
This report provides data related to how the application runs. Notice that the report has four tabs at the top: <strong>Top Operations</strong>, <strong>Kernels &amp; Compute Units</strong>, <strong>Data Transfers</strong>, and <strong>OpenCL APIs</strong>.
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-12.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-12.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>The Profile Summary report</i>
 </p>  
</li>
<li>Click on each of tabs and review the report:
<ul>
<li><strong>Top Operations</strong> : Shows all the major top operations of memory transfer between the host and kernel to global memory, and kernel execution. This allows you to identify throughput bottlenecks when transferring data. Efficient transfer of data to the kernel/host allows for faster execution times</li>
<li><strong>Kernels &amp; Compute Units</strong> : Shows the number of times the kernel was executed. Includes the total, minimum, average, and maximum run times. If the design has multiple compute units, it will show each compute unit's utilization. When accelerating an algorithm, the faster the kernel executes, the higher the throughput which can be achieved. It is best to optimize the kernel to be as fast as it can be with the data it requires</li>
<li><strong>Data Transfers</strong> : This tab has no bearing in software emulation as no actual data transfers are emulated across the host to the platform. In hardware emulation, this shows the throughput and bandwidth of the read/writes to the global memory that the host and kernel share</li>
<li><strong>OpenCL APIs</strong> : Shows all the OpenCL API command executions, how many time each was executed, and how long they take to execute</li>
</ul>
</li>
<li>Double-click the <strong>Application Timeline</strong> report and review it
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-13.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-13.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>The Application Timeline</i>
 </p>  
</li>
</ol>
<p>The <strong>Application Timeline</strong> collects and displays host and device events on a common timeline to help you understand and visualize the overall health and performance of your systems. These events include OpenCL API calls from the host code: when they happen and how long each of them takes.</p>
<h3><a id="user-content-perform-hw-emulation" class="anchor" aria-hidden="true" href="#perform-hw-emulation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Perform HW Emulation</h3>
<ol>
<li>Either select <strong>Project &gt; Build Configurations &gt; Set Active &gt; Emulation-HW</strong> or click on the drop-down button of <em>Active build configuration</em> and select <strong>Emulation-HW</strong></li>
<li>Set the XOCC Kernel Linker flag as done earlier for the Emulation-SW mode</li>
<li>Either select <strong>Project &gt; Build Project</strong> or click on the (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-build.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-build.png" alt="alt tag" style="max-width:100%;"></a>) button<br>
This will build the project including Optimization_lab_example.exe file under the Emulation-HW directory</li>
<li>Select <strong>Run &gt; Run Configurations…</strong> to open the configurations window</li>
<li>In the <strong>Main</strong> tab, click on the <em>Use waveform for kernel debugging</em> and then <em>Launch live waveform</em> options
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-14.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-14.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Setting up for live waveform</i>
 </p>  
</li>
<li>Click on the <strong>Arguments</strong> tab and notice that the <em>binary_container_1.xclbin</em> is already assigned<br>
If no argument was assigned then you would have to explicitly assign the <strong>xclbin</strong> by clicking on the <em>Automatically add binary container(s) to arguments</em>, and click <strong>Apply</strong></li>
<li>Click <strong>Run</strong> to run the application</li>
<li>The Console tab shows that the test was completed successfully along with the data transfer rate
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-15.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-15.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Hardware emulation run output</i>
 </p>  
</li>
</ol>
<p>Notice that Vivado was started and the simulation waveform window is updated.</p>
<ol>
<li>Click on the Zoom full button and scroll down the waveform window to see activites taking place in the kernel<br>
Since there is no optimzation is done observe that the execution is sequential
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-15-1.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-15-1.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Vivado simulator output</i>
 </p>  
</li>
</ol>
<h3><a id="user-content-understand-the-hls-report-profile-summary-and-application-timeline" class="anchor" aria-hidden="true" href="#understand-the-hls-report-profile-summary-and-application-timeline"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Understand the HLS Report, profile summary, and Application Timeline</h3>
<ol>
<li>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example</strong> &gt; <strong>Emulation-HW</strong> &gt; <strong>optimization_lab_example-Default</strong></li>
<li>Double-click the <strong>Profile Summary</strong> report and review it
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-16.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-16.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>HW-Emulation Profile Summary report</i>
 </p>  
</li>
<li>Click on the <strong>Kernels &amp; Compute Units</strong> tab of the Profile Summary report</li>
<li>Review the Kernel <strong>Total Time (ms)</strong><br>
This number will serve as a baseline (reference point) to compare against after optimization.
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-17.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-17.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>HW-Emulation Kernels &amp; Compute Units report</i>
 </p>  
</li>
<li>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example</strong> &gt; <strong>Emulation-HW</strong> &gt; <strong>binary_container_1</strong> &gt; <strong>krnl_idct</strong></li>
<li>Double-click the <strong>HLS Report</strong> and review it
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-18.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-18.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>HLS report before optimization</i>
 </p>  
</li>
<li>In the <strong>Performance Estimates</strong> section, expand the <strong>Latency (clock cycles)</strong> &gt; <strong>Summary</strong> and note the following numbers:
<ul>
<li>Latency (min/max): 6185</li>
<li>Interval (min/max): 6185<br>
The numbers will serve as a baseline for comparison against optimized versions of the kernel</li>
</ul>
</li>
<li>In the HLS report, expand <strong>Latency (clock cycles)</strong> &gt; <strong>Detail</strong> &gt; <strong>Instance</strong>
<ul>
<li>Note that the 3 sub-functions read, execute and write have roughly the same latency and that their sum total is equivalent to the total Interval reported in the Summary table</li>
<li>This indicates that the three sub-functions are executing sequentially, hinting to an optimization opportunity</li>
</ul>
</li>
<li>Close all the reports</li>
</ol>
<h3><a id="user-content-analyze-the-kernel-code-and-apply-the-dataflow-directive" class="anchor" aria-hidden="true" href="#analyze-the-kernel-code-and-apply-the-dataflow-directive"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Analyze the kernel code and apply the DATAFLOW directive</h3>
<ol>
<li>Open the <strong>src &gt; krnl_idct.cpp</strong> file</li>
<li>Using the <strong>Outline</strong> viewer, navigate to the <strong>krnl_idct_dataflow</strong> function<br>
Observe that the three functions are communicating using <strong>hls::streams</strong> objects. These objects model a FIFO-based communication scheme. This is the recommended coding style which should be used whenever possible to exhibit streaming behavior and allow <strong>DATAFLOW</strong> optimization</li>
<li>Enable the DATAFLOW optimization by uncommenting the <strong>#pragma HLS DATAFLOW</strong> present in the krnl_idct_dataflow function (line 322)     - The DATAFLOW optimization allows each of the subsequent functions to execute as independent processes
<ul>
<li>This results in overlapping and pipelined execution of the read, execute and write functions instead of sequential execution</li>
<li>The FIFO channels between the different processes do not need to buffer the complete dataset anymore but can directly stream the data to the next block</li>
</ul>
</li>
<li>Comment the three <strong>#pragma HLS stream</strong> statements on lines 327, 328 and 329</li>
<li>Save the file</li>
</ol>
<h3><a id="user-content-build-the-project-in-hardware-emulation-configuration-and-analyze-the-hls-report" class="anchor" aria-hidden="true" href="#build-the-project-in-hardware-emulation-configuration-and-analyze-the-hls-report"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build the project in Hardware emulation configuration and analyze the HLS report</h3>
<ol>
<li>Make sure the active configuration is <strong>Emulation-HW</strong></li>
<li>Click on the Build button (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-build.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-build.png" alt="alt tag" style="max-width:100%;"></a>) to build the project</li>
<li>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example</strong> &gt; <strong>Emulation-HW</strong> &gt; <strong>binary_container_1</strong>  &gt;   <strong>krnl_idct</strong></li>
<li>Double-click the <strong>HLS Report</strong> and review it
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-19.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-19.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>HLS report after applying pragma DATAFLOW</i>
 </p>  
</li>
<li>In the <strong>Performance Estimates</strong> section, expand the <strong>Latency (clock cycles)</strong> &gt; <strong>Summary</strong> and note the following numbers:
<ul>
<li>Latency (min/max): 2085</li>
<li>Interval (min/max): 2069</li>
</ul>
</li>
</ol>
<h3><a id="user-content-run-the-hardware-emulation" class="anchor" aria-hidden="true" href="#run-the-hardware-emulation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run the Hardware Emulation</h3>
<ol>
<li>
<p>Run the application by clicking the Run button (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-run.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-run.png" alt="alt tag" style="max-width:100%;"></a>)<br>
Wait for the run to finish with RUN COMPLETE message<br>
Notice the Vivado simulator starts, displaying various activites<br>
Since there is dataflow optimzation done observe concurrent execution of reading, writing, pipelining and kernel running</p>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-20-1.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-20-1.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Vivado simulator output of the DATAFLOW optimized kernel</i>
 </p>  
</li>
<li>
<p>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example &gt; Emulation-HW &gt; optimization_lab_example-Default</strong>  and double-click the <strong>Profile Summary</strong> report</p>
</li>
<li>
<p>Select the <strong>Kernels &amp; Compute Units</strong> tab.<br>
Compare the <strong>Kernel Total Time (ms)</strong> with the results from the un-optimized run</p>
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-20.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-20.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Total execution time of 0.015 compared to 0.029 of un-optimized</i>
 </p>  
</li>
</ol>
<h3><a id="user-content-analyze-the-host-code" class="anchor" aria-hidden="true" href="#analyze-the-host-code"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Analyze the host code</h3>
<ol>
<li>Open the <strong>src &gt; idct.cpp</strong> file</li>
<li>Using the <strong>Outline</strong> viewer, navigate to the <strong>runFPGA</strong> function<br>
For each block of 8x8 values, the <strong>runFPGA</strong> function writes data to the FPGA, runs the kernel, and reads results back. Communication with the FPGA is handled by the OpenCL API calls made within the cu.write, cu.run and cu.read functions
<ul>
<li><strong>clEnqueueMigrateMemObjects</strong> schedules the transfer of data to or from the FPGA</li>
<li><strong>clEnqueueTask</strong> schedules the executing of the kernel<br>
These OpenCL functions use events to signal their completion and synchronize execution</li>
</ul>
</li>
<li>Open the <strong>Application Timeline</strong> of the <em>Emulation-HW</em> run<br>
The green segments at the bottom indicate when the IDCT kernel is running
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-21.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-21.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Application Timeline before host code optimization</i>
 </p>  
</li>
<li>Notice that there are gaps between each of the green segments indicating that the operations are not overlapping</li>
<li>Zoom in by performing a left mouse drag across one of these gaps to get a more detailed view
<ul>
<li>The two green segments correspond to two consecutive invocations of the IDCT kernel</li>
<li>The gap between the two segments is indicative of the kernel idle time between these two invocations</li>
<li>The <strong>Data Transfer</strong> section of the timeline shows that <strong>Read</strong> and <strong>Write</strong> operations are happening when the kernel is idle</li>
<li>The Read operation is to retrieve the results from the execution which just finished and the Write operation is to send inputs for the next execution</li>
<li>This represents a sequential execution flow of each iteration</li>
</ul>
</li>
<li>Close the <strong>Application Timeline</strong></li>
<li>In the <strong>idct.cpp</strong> file, go to the <strong>oclDct::write</strong> function
<ul>
<li>Observe that on line 353, the function synchronizes on the <strong>outEvVec</strong> event through a call to <strong>clWaitForEvents</strong></li>
<li>This event is generated by the completion of the <strong>clEnqueueMigrateMemObjects</strong> call in the <strong>oclDct::read</strong> function (line 429)</li>
<li>Effectively the next execution of the <strong>oclDct::write</strong> function is gated by the completion of the previous <strong>oclDct::read</strong> function, resulting in the sequential behavior observed in the <strong>Application Timeline</strong></li>
</ul>
</li>
<li>Use the <strong>Outline</strong> viewer to locate the definition of the <strong>NUM_SCHED</strong> macro in the <strong>idct.cpp</strong> file
<ul>
<li>This macro defines the depth of the event queue</li>
<li>The value of 1 explains the observed behavior: new tasks (write, run, read) are only enqueued when the previous has completed effectively synchronizing each loop iteration</li>
<li>By increasing the value of the <strong>NUM_SCHED</strong> macro, we increase the depth of the event queue and enable more blocks to be enqueued for processing, which may result in the write, run and read tasks to overlap and allow the kernel to execute continuously or at least more frequently</li>
<li>This technique is called software pipelining</li>
</ul>
</li>
<li>Modify line 213 to increase the value of <strong>NUM_SCHED</strong> to 6 as follows<br>
<strong>#define NUM_SCHED 6</strong></li>
<li>Save the file</li>
</ol>
<h3><a id="user-content-run-the-hardware-emulation-1" class="anchor" aria-hidden="true" href="#run-the-hardware-emulation-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run the Hardware Emulation.</h3>
<ol>
<li>Change the run configuration by unchecking the <strong>Use waveform for kernel debugging</strong> option, click <strong>Apply</strong>, and then click <strong>Close</strong></li>
<li>Run the application by clicking the Run button (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-run.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-run.png" alt="alt tag" style="max-width:100%;"></a>)
<ul>
<li>Since only the idct.cpp file was changed, the incremental makefile rebuilds only the host code before running emulation</li>
<li>This results in a much faster iteration loop since it is usually the compilation of the kernel to hardware which takes the most time</li>
</ul>
</li>
<li>In the <strong>Assistant</strong> tab, expand <strong>optimization_lab_example &gt; Emulation-HW &gt; optimization_lab_example-Default</strong></li>
<li>Double-click the <strong>Application Timeline</strong> report</li>
</ol>
<p>Observe how <strong>software pipelining</strong> enables overlapping of data transfers and kernel execution.
</p><p align="center">
<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-22.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-22.png" style="max-width:100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-22-1.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-22-1.png" style="max-width:100%;"></a>
</p>
<p align="center">
<i>Application Timeline after the host code optimization</i>
</p><p></p>
<p>Note: system tasks might slow down communication between the application and the hardware simulation, impacting on the measured performance results. The effect of software pipelining is considerably higher when running on the actual hardware</p>
<h3><a id="user-content-run-the-application-on-f1" class="anchor" aria-hidden="true" href="#run-the-application-on-f1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run the Application on F1</h3>
<p><strong>Since the System build and AFI availability takes considerable amount of time, a precompiled version is provided. Use the precompiled solution directory to verify the functionality</strong></p>
<ol>
<li>Open a new terminal window, source sdaccel environment settings, and change to the solution directory by executing the following commands
<pre><code>  cd ~/aws-fpga		  
  source sdaccel_setup.sh		  
  source $XILINX_SDX/settings64.sh	  
  cd /home/centos/sources/optimization_lab_solution
</code></pre>
</li>
<li>Run the following commands to load the AFI and execute the application to verify the functionality
<pre><code>   sudo sh
   source /opt/xilinx/xrt/setup.sh
   ./optimization_lab_example.exe xclbin/binary_container_1.awsxclbin
</code></pre>
</li>
<li>The FPGA bitstream will be downloaded and the host application will be executed showing output something like:
 <p align="center">
 <a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/optimization_lab/FigOptimizationLab-23.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/optimization_lab/FigOptimizationLab-23.png" style="max-width:100%;"></a>
 </p>
 <p align="center">
 <i>Execution output</i>
 </p>  
</li>
<li>Enter <strong>exit</strong> in the terminal window to exit out of the <em>sudo shell</em></li>
<li>Close the SDx by selecting <strong>File &gt; Exit</strong></li>
</ol>
<h2><a id="user-content-conclusion" class="anchor" aria-hidden="true" href="#conclusion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>In this lab, you used SDAccel IDE to create a project and added a kernel function. After identifying the kernel you performed software and hardware emulations. You analyzed various generated reports and then you optimized kernel code using DATAFLOW and host code by increasing the number of read, write, and run tasks to improve throughput and data transfer rates. You then validated the functionality on F1.</p>
<hr>
<p align="center"><b>
Start the next lab: <a href="/parimalp/awslabs_2018_2/blob/master/rtl_kernel_wizard_lab.md">5. RTL-Kernel Wizard Lab</a>
</b></p>
<hr>
<h2><a id="user-content-appendix-build-full-hardware" class="anchor" aria-hidden="true" href="#appendix-build-full-hardware"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Appendix Build Full Hardware</h2>
<p><strong>Set the build configuration to System and build the system (Note that since the building of the project takes over two hours skip this step in the workshop environment).</strong></p>
<ol>
<li>Either select <strong>Project &gt; Build Configurations &gt; Set Active &gt; System</strong> or click on the drop-down button of <em>Active build configuration</em> and select <strong>System</strong></li>
<li>Set the XOCC Kernel Linker flag as done before</li>
<li>Either select <strong>Project &gt; Build Project</strong> or click on the (<a target="_blank" rel="noopener noreferrer" href="/parimalp/awslabs_2018_2/blob/master/images/Fig-build.png"><img src="/parimalp/awslabs_2018_2/raw/master/images/Fig-build.png" alt="alt tag" style="max-width:100%;"></a>) button<br>
This will build the project under the <strong>System</strong> directory. The built project will include <strong>optimization_lab_example.exe</strong> file along with <strong>binary_container_1.xclbin</strong> file. This step takes about two hours</li>
</ol>
<p><strong>Once the full system is built, you can create an AFI by following the steps listed <a href="/parimalp/awslabs_2018_2/blob/master/Creating_AFI.md">here</a></strong></p>
</article>
  </div>

    </div>

  

  <details class="details-reset details-overlay details-overlay-dark">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>



  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

        
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2019 <span title="0.13035s from unicorn-7978c97944-2f2vb">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-lg-4" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3"><a href="https://blog.github.com" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    <script crossorigin="anonymous" integrity="sha512-Mp0nAOFvmE8PVQP49TPVMbQBLb+lpf3gu9GF1CPqybGGzl/8KEKDTKzuJpxxd5xF8HUi85xKPkssLtVVdLKtlw==" type="application/javascript" src="https://github.githubassets.com/assets/compat-6e5ed2648dae3be3f9358af5732a780f.js"></script>
    <script crossorigin="anonymous" integrity="sha512-dHmPQivMlASgpXpwWHCs+zWS5+cYN3uvZwUlVzDP8/rlIEY6w7OyfwtMd9hC7xX0smxqhAHM0z4lVdddSZXzEw==" type="application/javascript" src="https://github.githubassets.com/assets/frameworks-b017eef8922fe066cbe4f9340ae4088c.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-NIYmNrk6q/ORJ1qeDzme3C07Pr+HTAfOPvFLot57mfzPrOLFNZjuO1CLFl5D6iBSPFbXXuq5cMDF+7em0KxYIQ==" type="application/javascript" src="https://github.githubassets.com/assets/github-b30c27cbbe5d8e707a775c1bfe7ac919.js"></script>
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
  </div>
</div>

  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark" open>
    <summary aria-haspopup="dialog" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>

  <div aria-live="polite" class="js-global-screen-reader-notice sr-only"></div>

  </body>
</html>

